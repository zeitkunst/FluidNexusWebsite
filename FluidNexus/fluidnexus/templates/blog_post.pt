<div metal:use-macro="main.macros['main']">
    <div id="post" metal:fill-slot="body">
        <h1>${post.title}</h1>
		<div class="content" tal:replace="structure post.formatted_content">
		</div>
		<div class="time">
			Posted by ${post.username} at ${post.formatted_time}
		</div>
    </div>
    <div id="comments" tal:condition="comments.count()" metal:fill-slot="comments">
 		<h2>Comments</h2>
		<div class="comments">
			<div class="comment" tal:repeat="comment comments">
				<p>By ${comment.name}</p>
				<div>
					${comment.content}
				</div>
			</div>
		</div>
    </div>
    <div id="comment_form" metal:fill-slot="comment_form">
        <h2>Add new comment</h2>
        <form action="${post_comment_url}" method="POST">
            ${comment_form}        
            <input type="submit" name="submitted" value="Submit"/>
        </form>    
    </div>
</div>

